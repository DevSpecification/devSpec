---
title: "代码审阅"
linkTitle: "代码审阅"
weight: 40
---

代码审阅（Code Review） 是项目中的必需项。代码审阅有助于提升代码的质量，尽早发现潜在的缺陷，降低修复的成本，
同时可以促进开发团队内部知识的共享，帮助开发者更好理解系统的业务与实现对于代码审阅的原则而言，
不定期地从小版本迭代(version) 或 新功能(feature)进行团队或者相关人员进行评审，评审的从架构、业务实现、技术等维度着手分析。

## 代码审阅流程

大致的审阅流程大致如下流程图所示，即

1. 开发者完成开发后，将功能分支提交并提醒审阅者进行代码审阅；

2. 评审者审阅代码，假设没有存在问题则让开发者将功能分支合并至开发分支，否则组织评审会，指出相应的不合理之处并讨论出可行方案进行更改；

3. 开发者根据修改方案进行代码修复，完成后再次提交。

```mermaid
graph TB
    subgraph 团队协作仓库
    wait[稳住稳住]-->merge_code[合并功能分支]
    end
    subgraph 审阅者
    review_code[评审提交代码]
    is_modify{看看是否要修改}
    review_code-->is_modify
    is_modify-- 否 -->merge_code
    is_modify-- 是 -->modify_code
    end
    subgraph 开发者
    push_code[提交分支代码]
    modify_code[修改代码]
    modify_code-- 重新提交 -->push_code
    push_code-->review_code
    end
```

## 代码审阅范围

代码审阅应确保业务定义的功能正常运行以及业务后续的可迭代性：

- 业务处理

  即功能实现是否能正常运行、满足预期的效果，同时确保业务的合理性与可迭代性。

- 业务规范

  使用正确的姿势正确处理业务，尽量禁止特殊处理或者歧义方式。

- 规范习惯

  必须编写并更新项目文档、接口文档。

  

代码审阅必须遵循项目规范，主要是从项目规范审阅，详细查看其它规范章节：

- 命名规范

- 日志输出

- 代码注释

- 代码优化

- 数据库规范

- 事务处理

- 代码复用

- 效率与性能 (稳定性、健壮性)

- 事务处理

- 项目架构目录定义规范

- 可读性、可维护性

- 代码安全性

- 单元测试

## 代码评审会

代码评审会类似于技术分享会，从中我们可以获取高级的技术用法以提高自身代码要求。合理安排代码审阅时间，一般安排1~2个小时。
根据项目规范与产品规划**指出问题**、**讨论问题**、**解决问题**。

> devSpec 已经给出了 Go的编码规范与指南，可以根据指南来指导代码评审会。